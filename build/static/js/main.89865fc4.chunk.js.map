{"version":3,"sources":["components/Person.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","name","number","PersonForm","addName","handleNameChange","handleNumberChange","onSubmit","onChange","type","Filter","handleSearch","baseUrl","axios","get","newObject","post","id","delete","put","Notification","message","msg","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","personsService","then","response","data","console","log","length","removeName","deleteName","window","confirm","filter","setTimeout","toLowerCase","includes","event","target","value","a","map","i","preventDefault","find","item","changedPerson","temp","catch","error","concat","key","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89865fc4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person }) => {\r\n  return (\r\n    <p>\r\n      {person.name} {person.number}\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ addName, handleNameChange, handleNumberChange }) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ handleSearch }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleSearch} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n};\r\n\r\nconst remove = (id, newObject) => {\r\n  return axios.delete(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nexport default { getAll, create, remove, update };\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message.msg === '') {\r\n    return null;\r\n  }\r\n\r\n  const notificationStyle = {\r\n    color: message.color,\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  };\r\n\r\n  return <div style={notificationStyle}>{message.msg}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport personsService from './services/persons';\nimport Notification from './components/Notification';\nimport './index.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n  const [message, setMessage] = useState({ msg: '', color: '' });\n\n  useEffect(() => {\n    personsService.getAll().then((response) => {\n      setPersons(response.data);\n    });\n  }, []);\n  console.log(persons);\n  console.log('render', persons.length, 'persons');\n\n  const addName = (event) => {\n    const a = persons.map((i) => i.name);\n    event.preventDefault();\n    const newObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (a.includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const person = persons.find((item) => item.name === newName);\n        const changedPerson = { ...person, number: newNumber };\n        personsService\n          .update(person.id, changedPerson)\n          .then(() => {\n            const temp = persons.filter((item) => item.name !== newName);\n            setPersons([...temp, changedPerson]);\n            setNewName('');\n            setNewNumber('');\n            setMessage({\n              msg: `Updated name ${newObject.name} `,\n              color: 'green',\n            });\n            setTimeout(() => {\n              setMessage({ msg: '', color: '' });\n            }, 5000);\n            console.log(persons);\n          })\n          .catch((error) => {\n            setMessage({\n              msg: `Information of ${person.name} has already been removed from the server`,\n              color: 'red',\n            });\n            setTimeout(() => {\n              setMessage({ msg: '', color: '' });\n            }, 5000);\n          });\n      }\n      console.log(persons.find((item) => item.name === newObject.name));\n    } else {\n      personsService.create(newObject).then((response) => {\n        setPersons(persons.concat(response.data));\n        setNewName('');\n        setNewNumber('');\n        setMessage({\n          msg: `Added name ${newObject.name} `,\n          color: 'green',\n        });\n        setTimeout(() => {\n          setMessage({ msg: '', color: '' });\n        }, 5000);\n      });\n    }\n    console.log(persons);\n  };\n\n  const removeName = (id, deleteName) => {\n    if (window.confirm(`Do you really want to remove ${deleteName.name}`))\n      personsService.remove(id, deleteName).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n        setMessage({\n          msg: `Removed name ${deleteName.name} `,\n          color: 'green',\n        });\n        setTimeout(() => {\n          setMessage({ msg: '', color: '' });\n        }, 5000);\n      });\n  };\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const filter = persons.filter(\n    (person) =>\n      person.name.toLowerCase().includes(newFilter) ||\n      person.number.toLowerCase().includes(newFilter)\n  );\n\n  console.log(persons);\n  const handleSearch = (event) => {\n    setNewFilter(event.target.value.toLowerCase());\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter handleSearch={handleSearch} />\n      <h3>add a new</h3>\n      <PersonForm\n        addName={addName}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {newFilter.length > 0\n        ? filter.map((person, i) => (\n            <div key={i}>\n              <Person key={person.name} person={person} />{' '}\n              <button onClick={() => removeName(person.id, person)}>delete</button>{' '}\n            </div>\n          ))\n        : persons.map((person, i) => (\n            <div key={i}>\n              <Person key={person.name} person={person} />{' '}\n              <button onClick={() => removeName(person.id, person)}>delete</button>{' '}\n            </div>\n          ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}